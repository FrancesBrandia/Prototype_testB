const accordionTableCode = `
    <code-block class="html javascript">
        <div class="code html">&lt;div class="table-accordion"&gt;
    &lt;div class="row"&gt;
        &lt;div class="material-icons expand-row-icon"&gt;
            expand_more
        &lt;/div&gt;
        &lt;div&gt;023tf405367se338ds64.dcmihsavdfiyasvfy&lt;/div&gt;
        &lt;div&gt;Image&lt;/div&gt;
        &lt;div&gt;4/14/22, 10:47:46 PM&lt;/div&gt;
        &lt;div class="large-font-size"&gt;4/18/22, 14:20:16 PM&lt;/div&gt;
        &lt;div class="material-icons status-icon success"&gt;
            check_circle
        &lt;/div&gt;
        &lt;div class="material-icons action-icon"&gt;
            delete
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="accordion-content"&gt;
        &lt;div class="accordion-header"&gt;&lt;div&gt;Accordion Header&lt;/div&gt;&lt;/div&gt;
        &lt;div class="accordion-table"&gt;Accordion Table&lt;/div&gt;
    &lt;/div&gt;

    &lt;div class="row"&gt;
        &lt;div class="material-icons expand-row-icon"&gt;
            expand_more
        &lt;/div&gt;
        &lt;div&gt;023tf405367se338ds64.dcm&lt;/div&gt;
        &lt;div&gt;Image&lt;/div&gt;
        &lt;div&gt;4/14/22, 10:47:46 PM&lt;/div&gt;
        &lt;div class="large-font-size"&gt;4/18/22, 14:20:16 PM&lt;/div&gt;
        &lt;div class="material-icons status-icon success"&gt;
            check_circle
        &lt;/div&gt;
        &lt;div class="material-icons action-icon"&gt;
            delete
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="accordion-content"&gt;
        &lt;div class="accordion-header"&gt;&lt;div&gt;Accordion Header&lt;/div&gt;&lt;/div&gt;
        &lt;div class="accordion-table"&gt;Accordion Table&lt;/div&gt;
    &lt;/div&gt;

    &lt;div class="row"&gt;
        &lt;div class="material-icons expand-row-icon"&gt;
            expand_more
        &lt;/div&gt;
        &lt;div&gt;023tf405367se338ds64.dcm&lt;/div&gt;
        &lt;div&gt;Image&lt;/div&gt;
        &lt;div&gt;4/14/22, 10:47:46 PM&lt;/div&gt;
        &lt;div class="large-font-size"&gt;4/18/22, 14:20:16 PM&lt;/div&gt;
        &lt;div class="material-icons status-icon error"&gt;
            warning
        &lt;/div&gt;
        &lt;div class="material-icons action-icon"&gt;
            delete
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="accordion-content"&gt;
        &lt;div class="accordion-header"&gt;
            &lt;div&gt;Files submitted: &lt;span class="bold"&gt;3/3&lt;/span&gt;&lt;/div&gt;
            &lt;div&gt;Files in queue: &lt;span class="bold"&gt;0/0&lt;/span&gt;&lt;/div&gt;
            &lt;div&gt;Files in progress: &lt;span class="bold"&gt;0/0&lt;/span&gt;&lt;/div&gt;
            &lt;div&gt;Files successfully submitted: &lt;span class="bold"&gt;2/3&lt;/span&gt;&lt;/div&gt;
            &lt;div&gt;Files failed to submit: &lt;span class="bold error"&gt;1/3 Anonymization parsing error&lt;/span&gt;&lt;/div&gt;
        &lt;/div&gt;
        &lt;div class="accordion-table"&gt;
            &lt;div class="accordion-table-header"&gt;
                &lt;div&gt;Medical Record No.&lt;/div&gt;
                &lt;div&gt;Study Instance UID&lt;/div&gt;
                &lt;div&gt;Study Description&lt;/div&gt;
                &lt;div&gt;Study Date&lt;/div&gt;
                &lt;div&gt;Modality&lt;/div&gt;
                &lt;div class="status"&gt;Status&lt;/div&gt;
            &lt;/div&gt;
            &lt;div class="accordion-row"&gt;
                &lt;div&gt;St8694Ktd_Ec48Sf4888309Dfrdv&lt;/div&gt;
                &lt;div&gt;68403.2349.8880.6427&lt;/div&gt;
                &lt;div&gt;Brain Scan&lt;/div&gt;
                &lt;div&gt;3/26/22, 17:20:00 PM&lt;/div&gt;
                &lt;div&gt;CR&lt;/div&gt;
                &lt;div class="material-icons status-icon error"&gt;
                    warning
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;div class="accordion-row"&gt;
                &lt;div&gt;St8694Ktd_Ec48Sf4888309Dfrdv&lt;/div&gt;
                &lt;div&gt;68403.2349.8880.6427&lt;/div&gt;
                &lt;div&gt;Lung Scan&lt;/div&gt;
                &lt;div&gt;3/14/22, 09:55:00 AM&lt;/div&gt;
                &lt;div&gt;MR&lt;/div&gt;
                &lt;div class="material-icons status-icon success"&gt;
                    check_circle
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;div class="accordion-row"&gt;
                &lt;div&gt;St8694Ktd_Ec48Sf4888309Dfrdv sdfgsdfgs dgf&lt;/div&gt;
                &lt;div&gt;68403.2349.8880.6427&lt;/div&gt;
                &lt;div&gt;Lung Scan&lt;/div&gt;
                &lt;div&gt;3/14/22, 09:55:00 AM&lt;/div&gt;
                &lt;div&gt;MR&lt;/div&gt;
                &lt;div class="material-icons status-icon success"&gt;
                    check_circle
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    &lt;div class="row"&gt;
        &lt;div class="material-icons expand-row-icon"&gt;
            expand_more
        &lt;/div&gt;
        &lt;div&gt;023tf405367se338ds64.dcm&lt;/div&gt;
        &lt;div&gt;Image&lt;/div&gt;
        &lt;div&gt;4/14/22, 10:47:46 PM&lt;/div&gt;
        &lt;div class="large-font-size"&gt;4/18/22, 14:20:16 PM&lt;/div&gt;
        &lt;div class="material-icons status-icon success"&gt;
            check_circle
        &lt;/div&gt;
        &lt;div class="material-icons action-icon"&gt;
            delete
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="accordion-content"&gt;
        &lt;div class="accordion-header"&gt;&lt;div&gt;Accordion Header&lt;/div&gt;&lt;/div&gt;
        &lt;div class="accordion-table"&gt;Accordion Table&lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;</div>
        <div class="code javascript">const accordionTriggers = document.querySelectorAll('.table-accordion > .row, .filter-accordion > .filter-row');
accordionTriggers.forEach(trigger => {
    trigger.addEventListener('click', (e) => {
        if (!e.target.classList.contains('action-icon')) {
            toggleAccordion.call(trigger);
        }
    });
});

function toggleAccordion() {
    const selectedAccordion = this.nextElementSibling;
    const accordionArrow = this.querySelector('.expand-row-icon');

    // collapse currently opened accordion (if any) (except the selected accordion)
    accordionTriggers.forEach(trigger => {
        accordion = trigger.nextElementSibling;
        arrow = trigger.querySelector('.expand-row-icon');
        if (accordion !== selectedAccordion) {
            collapseAccordion(trigger, accordion, arrow);
        }
    });
    
    // toggle the selected accordion
    if (selectedAccordion.style.display === 'flex') {
        collapseAccordion(this, selectedAccordion, accordionArrow);
    } else {
        expandAccordion(this, selectedAccordion, accordionArrow);
    }
}

function collapseAccordion(row, accordion, arrow) {
    row.classList.remove('expanded');
    accordion.style.display = 'none';
    arrow.style.transform = 'rotate(0deg)';
}

function expandAccordion(row, accordion, arrow) {
    row.classList.add('expanded');
    accordion.style.display = 'flex';
    arrow.style.transform = 'rotate(180deg)';
}</div>
    </code-block>
`;


class AccordionTableCode extends HTMLElement {
    constructor() {
        super();
        this.innerHTML = accordionTableCode;
        this.setAttribute('class', 'code-section');
    }
}

customElements.define('accordion-table-code', AccordionTableCode);